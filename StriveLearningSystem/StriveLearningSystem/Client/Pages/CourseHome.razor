@page "/course/{courseId:int}"
@inject CoursesAgent  _coursesAgent
@inject AuthenticationStateProvider _authenticationStateProvider
@inject IdentityAgent _identityAgent

<h3>Course Home</h3>

<AuthorizeView Roles="Teacher">
    
        @if (_course == null)
        {
        <p>Loading...</p>
        }
        else{
                   
        <h1>@_course.Description</h1>
        }
</AuthorizeView>

<AuthorizeView Roles="Student">
    @if (_course == null)
    {
        <p>Loading...</p>
    }
    else
    {
       <h1>@_course.Description</h1>
    }



</AuthorizeView>

@code {
    [Parameter]
    public int courseId { get; set; }

    private Course _course;

    protected override async Task OnInitializedAsync()
    {

        _course = await _coursesAgent.GetCourseById(courseId);
            
    }

}
